<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style type="text/css">		
		* {
		  box-sizing: border-box;
		}

		body {
		  padding: 0;
		  margin: 0;
		  background-color: #010044;
		  font-family: sans-serif;
		}

		.outer_wrapper{
		  position: fixed;
		  width: 100vw;
		  height: 100vh;
		  overflow: hidden;
		}

		.wrapper {
		  width: 100%;
		  height: 100%;
		}

		.flex_box {
		  display: flex;
		  justify-content: center;
		  align-items: center;
		  flex-direction: column;
		}

		.sprite_wrapper {
		  /* border: red 1px solid; */
		  position: absolute;
		  overflow: hidden;
		}

		.sprite_inner > svg {
		  height: 100%;
		  width: auto;
		}

		.sign {
		  position: absolute;
		  color: white;
		  bottom: 10px;
		  right: 10px;
		  font-size: 9px;
		}

		a {
		  color: white;
		  text-decoration: none;
		}

		a:hover {
		  text-decoration: underline;
		}
	</style>	
</head>
<script type="text/javascript">
	function init() {

  const bunnySvg = color =>{
    return  `<svg x="0px" y="0px"
  width="1266.5px" height="431.7px" viewBox="0 0 1266.5 431.7"
>
<path fill="${color}" d="M791.4,256.2v-13.4h-13.2H765v13.4h-13.1v-13.4h-13.2v-13.5h-13.2v-13.4h-13.2h-13.1v-13.5H686h-13.2v-13.5
 h-13.2l0,0h-13.2v-13.4h13.2v-13.4h13.2v-13.5v-13.5h-13.2l0,0h-13.2h-13.2v13.5h-13.1H620h-13.1V162h-13.2v-13.4h13.2v-13.5h13.2
 v-13.4v-0.1v-13.4h-13.2h-13.2v13.4h-13.2v13.5h-13.2v13.5h-13.2V162H541h-13.2v13.5h-13.2v13.4h-13.2v13.5h-13.2v13.5H475v13.4v0.1
 v13.4h13.2v13.5h13.2v13.4h-13.2v13.5H475v13.5h13.2h13.2h13.2v13.4h13.2H541h13.1h0.1h13.1v-13.4h13.2v-13.5h13.2h13.2v13.5H620
 h0.1h13.1v13.4h13.2h13.2v13.5h13.2H686h13.1V337v0.1v13.4H686V364h13.1h0.1h13.1v-13.5h13.2h13.2v-13.4h13.2v-13.5v-13.5H765h0.1
 h13.1h13.2v-13.4h13.2v-13.5v-13.5v-13.5H791.4z M580.5,215.9v13.4h-13.2v-13.4v-13.5h13.2V215.9z M514.6,242.8h13.2H541v13.4h-13.2
 h-13.2V242.8z M514.6,296.6v-13.4h13.2v13.4H514.6z"/>
<g>
 <g id="XMLID_1_">
   <g>
     <path fill=${color} d="M237.4,162.4h-13.2v13.4h13.2V162.4z M211,297h-13.2v13.4h-13.1v13.5h-13.2v13.5h-13.2h-13.2v-13.5h-13.2
       h-13.2v-13.5h13.2v-13.5h13.2v-13.4h-13.2h-13.1h-0.1h-13.1v-13.4H92.4v-13.5H79.2v-13.5v-13.5h13.2v-13.4v-13.5h13.2v-13.4h13.1
       v-13.5h13.2v-13.4v-0.1v-13.4h13.2v-13.5v-13.5h13.2v-13.4h13.2h13.2v13.4v0.1v13.4v13.5h13.1v-13.5H211v-13.5h13.2v-13.4h13.2
       h13.2v13.4v0.1v13.4v13.5h-13.2v13.4h13.2h13.1h0.1h13.1v-13.4h13.2v-13.5h13.2v-13.5h13.2h13.2v13.5h13.2v13.5H356v13.4v0.1
       v13.4v13.5h-13.1v13.4v0.1v13.4v13.4v0.1v13.4h-13.2v13.5h-13.2v13.5h-13.2v13.4h-13.2V297h-13.2h-13.1v13.4h-13.2h-13.2v13.5
       h-13.2H211v-13.5V297z M105.6,270h13.1h0.1h13.1v-13.4h-13.1h-0.1h-13.1V270z M211,296.9h13.2v-13.4H211V296.9z M171.5,243.1
       v-13.4v-0.1v-13.4h-13.2v13.5v13.4H171.5z"/>
   </g>
 </g>
</g>
<g>
 <g id="XMLID_2_">
   <g>
     <path fill=${color} d="M1042,121.4V108h13.1h0.1h13.1V94.5h13.2h13.2h13.2h13.2V108v13.5h-13.2v13.4h-13.2v13.5h-13.2v13.5h-13.2
       v13.4v13.4h13.2v13.5h13.2h13.2h13.2h13.2v13.5h13.1v-13.5h13.2v-13.5h13.2h13.2v13.5h13.2v13.5h13.1v13.4v0.1v13.4h-13.1v13.5
       H1187v13.4v0.1V283v13.5h-13.2v13.4h-13.2v13.5h-13.2v13.5h-13.1v13.4h-13.2h-13.2h-13.2h-13.2h-13.2h-13.2v-13.5h13.2v-13.4
       h-13.1h-0.1H1042h-13.2v13.5h-13.2v13.4h-13.2h-13.2v-13.4h-13.1v13.4h-13.2h-13.2v-13.5h13.2v-13.4v-13.5v-13.5h13.2V283v-13.4
       h-13.2v-13.5h-13.2h-13.2v-13.5h-13.2v-13.4h-13.2v-13.5v-13.5v-13.4v-0.1v-13.4h13.2v-13.5h13.2v-13.4h13.2h13.2v-13.5h13.2
       v-13.5h13.1V108h13.2V94.5h13.2V81.1h13.2h13.2v13.4v0.1V108h-13.2v13.4H1042z M1028.8,134.9v-13.4h-13.2v13.4H1028.8z
        M1002.4,336.8v-13.4h-13.1v13.4H1002.4z M1002.4,202.2v-13.4v-0.1v-13.4h-13.1v13.4v0.1v13.4H1002.4z M962.9,229.1v-13.4h-13.2
       h-13.2v13.4h13.2H962.9z"/>
   </g>
 </g>
</g>
</svg>`
  }
  
  const animateSprite = (target, frameNo, frameSize) => {
    let i = 0     
    setInterval(function () {
      target.style.margin = `0px ${-(i * frameSize)}px`
      if (i === frameNo) {
        i = 0
      } else {
        i++
      }
    }, 140)
  }
  
  const wrapper = document.querySelector('.wrapper')

  const rgbToHex = (r, g, b) => {
    if (r > 255 || g > 255 || b > 255)
      throw 'Invalid color component'
    const rgb = ((r << 16) | (g << 8) | b).toString(16)  
    return '#' + ('000000' + rgb).slice(-6) 
  }
  

  const randomHex = () =>{
    const r = Math.ceil(Math.random() * 255)
    const g = Math.ceil(Math.random() * 255) 
    const b = Math.ceil(Math.random() * 255)
    return rgbToHex(r, g, b)
  }


  const createNewSprite = ()=>{
    const sprite = document.createElement('div')
    const frameSize = Math.ceil(Math.random() * 4) * 50 + 50
    sprite.classList.add('sprite_wrapper')
    sprite.style.width = `${frameSize}px`

    const spriteInside = document.createElement('div')
    spriteInside.classList.add('sprite_inner')
    spriteInside.style.height = `${frameSize}px`
    spriteInside.style.width = `${frameSize * 3}px`
    spriteInside.innerHTML = bunnySvg(randomHex())
    
    const randomTop = Math.ceil(Math.random() * 100) + 10
    sprite.style.right = `-${frameSize}px`
    sprite.style.top = `calc(${randomTop}% - ${frameSize}px)`
    sprite.style.zIndex = frameSize * randomTop
    const life = Math.ceil(Math.random() * 5) + 2
    sprite.style.transition = `${life}s`
    sprite.appendChild(spriteInside)
    wrapper.appendChild(sprite)
    animateSprite(spriteInside, 2, frameSize)
    
    setTimeout(()=>{
      sprite.style.right = '100vw'
    },10)

    setTimeout(()=>{
      wrapper.removeChild(sprite)
    },life * 1000)
  }
  
  setInterval(()=>{
    createNewSprite()
  },200)
 
}

window.addEventListener('DOMContentLoaded', init)
</script>
<body>
	<div class="outer_wrapper">
		<div class="wrapper">
		</div>
	</div>

	<div class="sign">
		by 뜸부기 / <a href="http://www.ma5a.com/" >뜸부기</a>
	</div>
	
</body>
</html>
